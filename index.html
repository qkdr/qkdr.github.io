<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>موقع عرض أكواد سكربتات روبلوكس</title>
  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
  <style>
    /* ======== إعدادات عامة ======== */
    * { margin:0; padding:0; box-sizing:border-box; }
    html { scroll-behavior:smooth; }
    body {
      font-family: "Segoe UI", Tahoma, sans-serif;
      background: #0d0d1a; color:#f2f2f2;
      direction: rtl; overflow-x:hidden; min-height:100vh;
    }
    a { color:inherit; text-decoration:none; }
    ul { list-style:none; }
    button { font-family:inherit; cursor:pointer; border:none; background:none; }

    /* ======== الهامبرجر والقائمة ======== */
    .menu-btn { position:fixed; top:20px; left:20px; width:30px; height:24px;
      display:flex; flex-direction:column; justify-content:space-between; z-index:200; }
    .menu-btn span { display:block; height:4px; background:#fff; border-radius:2px;
      transition:transform .3s, opacity .3s; }
    .menu-overlay {
      position:fixed; top:0; left:-260px; width:260px; height:100%;
      background:rgba(30,30,50,.95); backdrop-filter:blur(6px);
      transition:left .4s ease; padding-top:80px; z-index:150;
    }
    .menu-overlay.show { left:0; }
    .menu-overlay ul { display:flex; flex-direction:column; align-items:flex-end; }
    .menu-overlay li { margin:20px; }
    .menu-overlay button {
      display:block; width:100%; text-align:right; padding:12px 20px;
      background:linear-gradient(135deg,#2a2a4a,#1a1a30);
      color:#ffd700; border-radius:30px; font-size:1rem;
      box-shadow:0 4px 12px rgba(0,0,0,.6); transition:background .3s;
    }
    .menu-overlay button:hover {
      background:linear-gradient(135deg,#ffd700,#ffaa00); color:#000;
    }

    /* ======== شريحة المحتوى ======== */
    section { display:none; padding:100px 20px 60px; min-height:100vh; }

    /* ======== المقدمة ======== */
    #section-intro { display:block;
      background:linear-gradient(135deg,#1a1a2e,#16213e);
      text-align:center;
    }
    #section-intro h1 {
      font-size:3rem; margin-bottom:20px; color:#ffd700;
      text-shadow:2px 2px 12px rgba(0,0,0,.7);
    }
    #section-intro p {
      font-size:1.2rem; max-width:800px; margin:0 auto 40px;
      line-height:1.6; color:#ddd;
    }
    #section-intro button {
      padding:15px 35px; font-size:1.1rem; border-radius:50px;
      background:linear-gradient(135deg,#ffd700,#ffaa00);
      color:#000; box-shadow:0 6px 20px rgba(0,0,0,.7);
      transition:transform .3s;
    }
    #section-intro button:hover {
      transform:translateY(-4px);
    }

    /* ======== معرض الصور ======== */
    .gallery {
      display:flex; flex-wrap:wrap; justify-content:center;
      gap:30px; margin-top:40px; max-width:1000px; margin-left:auto;margin-right:auto;
    }
    .gallery-item {
      position:relative; width:220px; background:rgba(20,20,40,.8);
      border:2px solid #ffd700; border-radius:15px; overflow:hidden;
      box-shadow:0 8px 20px rgba(0,0,0,.7); transition:transform .3s;
    }
    .gallery-item:hover { transform:translateY(-10px); }
    .item-frame {
      padding:10px; background:rgba(30,30,60,.9); text-align:center;
    }
    .item-frame img {
      width:100%; border-radius:10px; box-shadow:0 4px 12px rgba(0,0,0,.7);
    }
    .item-name {
      padding:10px; font-size:1rem; color:#ffd700;
      background:rgba(20,20,40,.9); border-top:2px solid #ffaa00;
    }
    .item-stats {
      background:rgba(15,15,30,.9); padding:8px; font-size:.9rem;
      border-top:1px solid #333; text-align:center; line-height:1.4;
    }
    .item-stats .stat { display:block; margin:4px 0; }
    .item-stats .hot-icon {
      display:inline-block; margin-left:6px;
      width:24px;height:24px;
      background:url('https://i.imgur.com/3dXhX7s.gif') center/contain no-repeat;
      vertical-align:middle;
    }

    /* ======== البحث عن الأكواد ======== */
    #section-search { background:linear-gradient(135deg,#16213e,#0b0c10); }
    .script-stats {
      max-width:700px; margin:0 auto 40px; padding:20px;
      background:rgba(20,20,40,.8); border-left:5px solid #ffd700;
      border-radius:8px; box-shadow:0 6px 18px rgba(0,0,0,.6);
      color:#ddd; font-size:1rem; line-height:1.5;
    }
    .script-stats ul { margin-top:12px; padding-right:20px; }
    .script-stats li { margin-bottom:8px; }

    .outer-box {
      max-width:700px; margin:0 auto; padding:30px;
      background:rgba(30,30,60,.8); border:2px solid #ffaa00;
      border-radius:15px; box-shadow:0 8px 24px rgba(0,0,0,.7);
    }
    .inner-box {
      display:flex; gap:15px; align-items:center;
      background:rgba(20,20,40,.9); padding:20px;
      border:2px dashed #ffd700; border-radius:12px;
    }
    .inner-box input {
      flex:1; padding:12px; font-size:1rem;
      border-radius:8px; border:none;
      background:rgba(10,10,30,.8); color:#eee;
    }
    .inner-box button {
      padding:12px 28px; font-size:1rem; border-radius:50px;
      background:linear-gradient(135deg,#ffd700,#ffaa00);
      color:#000; box-shadow:0 6px 20px rgba(0,0,0,.7);
      transition:transform .3s;
    }
    .inner-box button:hover { transform:translateY(-3px); }

    /* ======== عرض الأكواد ======== */
    #codes-container { max-width:800px; margin:0 auto; }
    .code-card {
      position:relative; background:rgba(20,20,40,.9);
      padding:25px; margin-bottom:30px; border-left:5px solid #ffaa00;
      border-radius:10px; box-shadow:0 6px 18px rgba(0,0,0,.7);
      overflow:hidden;
    }
    .code-card.blur { filter:blur(5px); }
    .code-card.expired::after {
      content:"🔒 انتهاء الصلاحية"; position:absolute;
      top:50%; left:50%; transform:translate(-50%,-50%);
      background:rgba(0,0,0,.8); color:#ffd700; padding:10px 16px;
      border-radius:8px; font-size:1rem;
    }
    .code-card h3 {
      color:#ffd700; font-size:1.3rem; margin-bottom:12px;
      text-shadow:1px 1px 6px rgba(0,0,0,.7);
    }
    .countdown {
      display:inline-block; margin-left:12px;
      background:#e74c3c; color:#fff; padding:4px 10px;
      border-radius:6px; font-size:.9rem;
    }
    .copy-btn {
      position:absolute; top:16px; right:16px;
      background:#27ae60; color:#fff; padding:6px 12px;
      border-radius:6px; box-shadow:0 4px 12px rgba(0,0,0,.7);
      transition:background .3s;
    }
    .copy-btn:hover { background:#2ecc71; }

    .code-block {
      background:rgba(10,10,30,.8); padding:20px;
      border-radius:6px; font-family:"Courier New",monospace;
      font-size:.95rem; line-height:1.6; color:#ddd;
      overflow-x:auto; box-shadow:inset 0 4px 12px rgba(0,0,0,.7);
      margin-top:12px;
    }

    /* ======== الإشعارات ======== */
    .notification {
      position:fixed; top:20px; right:20px; padding:18px 30px;
      background:rgba(39,174,96,.95); color:#fff; border-radius:8px;
      box-shadow:0 6px 20px rgba(0,0,0,.7);
      opacity:0; transform:translateY(-30px);
      transition:opacity .4s, transform .4s; z-index:300;
      font-size:1rem; text-align:center;
    }
    .notification.show { opacity:1; transform:translateY(0); }
    .notification.error { background:rgba(192,57,43,.95); }

    /* ======== تواصل ======== */
    #section-contact { background:linear-gradient(135deg,#16213e,#0b0c10); }
    .contact-info {
      max-width:700px; margin:0 auto; padding:30px;
      background:rgba(20,20,40,.8); border-left:5px solid #ffaa00;
      border-radius:12px; box-shadow:0 8px 24px rgba(0,0,0,.7);
      line-height:1.6; color:#ddd;
    }
    .contact-info a.email-link {
      display:inline-block; margin-top:20px; padding:10px 22px;
      background:linear-gradient(135deg,#ffd700,#ffaa00); color:#000;
      border-radius:50px; box-shadow:0 6px 20px rgba(0,0,0,.7);
      transition:transform .3s; font-size:1rem;
    }
    .contact-info a.email-link:hover {
      transform:translateY(-4px);
    }

  </style>
</head>
<body>

  <!-- زر القائمة -->
  <div class="menu-btn" onclick="toggleMenu()">
    <span></span><span></span><span></span>
  </div>
  <nav class="menu-overlay" id="menu-overlay">
    <ul>
      <li><button onclick="showSection('section-intro'); toggleMenu()">الرئيسية</button></li>
      <li><button onclick="showSection('section-search'); toggleMenu()">بحث الأكواد</button></li>
      <li><button onclick="showSection('section-contact'); toggleMenu()">تواصل معنا</button></li>
    </ul>
  </nav>

  <!-- مقدمة مع معرض -->
  <section id="section-intro">
    <h1>مرحباً بك في موقع أكواد سكربتات روبلوکس</h1>
    <p>استعرض أحدث السكربتات وصورها مع إحصائيات المشاهدات والاستخدامات.</p>
    <button onclick="showSection('section-search')">الانتقال إلى البحث عن الأكواد</button>
    <div class="gallery" id="gallery"></div>
  </section>

  <!-- البحث عن الأكواد -->
  <section id="section-search">
    <div class="script-stats">
      <div><strong>عدد السكربتات المتوفرة:</strong> <span id="script-count">0</span></div>
      <div><strong>أسماء السكربتات:</strong><ul id="script-list"></ul></div>
    </div>
    <div class="outer-box">
      <div class="inner-box">
        <input type="text" id="script-name-input" placeholder="اكتب اسم السكربت هنا..." />
        <button onclick="showCodes()">عرض الأكواد</button>
      </div>
    </div>
    <div id="codes-container"></div>
  </section>

  <!-- إشعار -->
  <div id="notification" class="notification"></div>

  <!-- تواصل -->
  <section id="section-contact">
    <h2>تواصل معنا</h2>
    <p>للاستفسار أو اقتراح أو إضافة سكربت جديد، تواصل عبر:</p>
    <div class="contact-info">
      <ul>
        <li><strong>البريد الإلكتروني:</strong> <a href="mailto:example@example.com" class="email-link">example@example.com</a></li>
        <li><strong>Discord:</strong> RobloxHelper#1234</li>
      </ul>
    </div>
  </section>

  <script>
    // إعداد Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyDjEuNNjEWG5RNoUd6knNleeR_Qqy3SG8c",
      authDomain: "roblox-scripts-13426.firebaseapp.com",
      databaseURL: "https://roblox-scripts-13426-default-rtdb.firebaseio.com",
      projectId: "roblox-scripts-13426",
      storageBucket: "roblox-scripts-13426.firebasestorage.app",
      messagingSenderId: "459330396694",
      appId: "1:459330396694:web:8c6b58fdbcbe24fc5bcb37",
      measurementId: "G-KGPHSECC88"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // بيانات السكربتات
    const scriptsData = {
      "سكربت الأول": [{ title:"كود دائم", code:"-- كود دائم" }],
      "سكربت الرابع":[{ title:"كود مؤقت", code:"-- كود مؤقت", expires:Date.now()+3600*1000*24 }]
    };

    // منع التسجيل المكرر
    const viewedKey="viewed", usedKey="used";
    const viewed=JSON.parse(localStorage.getItem(viewedKey)||"[]");
    const used =JSON.parse(localStorage.getItem(usedKey )||"[]");

    // تنظيف مؤقت
    function cleanup() {
      const now=Date.now();
      for(let n in scriptsData){
        scriptsData[n]=scriptsData[n].filter(i=>!i.expires||i.expires>now);
      }
    }

    // إنشاء المعرض
    async function buildGallery(){
      const g=document.getElementById("gallery");
      g.innerHTML="";
      const views=await (await db.ref("views").get()).val()||{};
      const uses =await (await db.ref("uses" ).get()).val()||{};
      const maxV=Math.max(0,...Object.values(views));
      Object.keys(scriptsData).forEach(name=>{
        const div=document.createElement("div");
        div.className="gallery-item";
        div.innerHTML=`
          <div class="item-frame"><img src="https://via.placeholder.com/200x150?text=${encodeURIComponent(name)}" alt="${name}"></div>
          <div class="item-name">${name}${views[name]===maxV&&maxV>0?'<span class="hot-icon"></span>':''}</div>
          <div class="item-stats">
            <span class="stat">المشاهدات: ${views[name]||0}</span>
            <span class="stat">الاستخدامات: ${uses[name]||0}</span>
          </div>`;
        g.appendChild(div);
      });
    }

    // إحصائيات البحث
    function updateStats(){
      const names=Object.keys(scriptsData);
      document.getElementById("script-count").textContent=names.length;
      const ul=document.getElementById("script-list");
      ul.innerHTML="";
      names.forEach((n,i)=>{ let li=document.createElement("li"); li.textContent=`${i+1}. ${n}`; ul.appendChild(li); });
    }

    // عرض الأكواد وتحديث DB
    function showCodes(){
      const name=document.getElementById("script-name-input").value.trim();
      const cont=document.getElementById("codes-container");
      cont.innerHTML="";
      if(!scriptsData[name]){ notify(`لا يوجد سكربت "${name}"!`,true); return; }
      if(!viewed.includes(name)){ db.ref("views/"+name).transaction(v=>(v||0)+1); viewed.push(name); localStorage.setItem(viewedKey,JSON.stringify(viewed)); }
      buildGallery();
      scriptsData[name].forEach(item=>{
        const card=document.createElement("div"); card.className="code-card";
        card.innerHTML=`<h3>${item.title}</h3>${item.expires?'<span class="countdown"></span>':''}<button class="copy-btn">نسخ</button><pre class="code-block">${item.code}</pre>`;
        cont.appendChild(card);
        if(item.expires){
          const cd=card.querySelector(".countdown"), exp=item.expires;
          let t=setInterval(()=>{
            let d=exp-Date.now();
            if(d<=0){ clearInterval(t); card.classList.add("blur","expired"); cd.remove(); return; }
            let days=Math.floor(d/86400000), hrs=Math.floor((d%86400000)/3600000),
                mins=Math.floor((d%3600000)/60000), secs=Math.floor((d%60000)/1000);
            cd.textContent=`${days}ي ${hrs}س ${mins}د ${secs}ث`;
          },500);
        }
        card.querySelector(".copy-btn").onclick=()=>{
          navigator.clipboard.writeText(item.code).then(()=>{
            if(!used.includes(name)){ db.ref("uses/"+name).transaction(v=>(v||0)+1); used.push(name); localStorage.setItem(usedKey,JSON.stringify(used)); buildGallery(); }
            notify("تم النسخ!");
          });
        };
      });
      document.getElementById("script-name-input").value="";
      notify(`تم عرض أكواد "${name}"!`);
    }

    // إشعار
    function notify(msg,err=false){
      const n=document.getElementById("notification");
      n.textContent=msg; n.classList.toggle("error",err); n.classList.add("show");
      setTimeout(()=>n.classList.remove("show"),3000);
    }

    // تنقل + هامبرجر
    function showSection(id){
      ["section-intro","section-search","section-contact"].forEach(s=>{
        document.getElementById(s).style.display=s===id?"block":"none";
      });
      if(id==="section-search")updateStats();
    }
    function toggleMenu(){
      const m=document.getElementById("menu-overlay"),spans=document.querySelectorAll(".menu-btn span");
      m.classList.toggle("show");
      if(m.classList.contains("show")){
        spans[0].style.transform="rotate(45deg) translate(5px,5px)";
        spans[1].style.opacity="0";
        spans[2].style.transform="rotate(-45deg) translate(6px,-6px)";
      } else spans.forEach(s=>{s.style.transform="";s.style.opacity="1";});
    }

    // بدء
    window.onload=()=>{
      cleanup(); buildGallery(); showSection("section-intro");
    };
  </script>
</body>
</html>
